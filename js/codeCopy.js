window.addEventListener("DOMContentLoaded",getCodeBlockDoms);let clipboard=null;function getCodeBlockDoms(){const t=document.querySelectorAll("figure"),e=document.createElement("i");e.classList="iconfont icon-copy";const o=document.createElement("span");o.classList="pin-copy",o.setAttribute("data-text","copy"),o.appendChild(e),t.length&&t.forEach((t=>{t.addEventListener("mouseenter",(()=>{t.setAttribute("id","copy-target");const e=t.querySelector("table tbody tr .code");t.setAttribute("data-clipboard-text",e&&e.innerText||""),t.appendChild(o),o.addEventListener("click",copyContentAction)})),t.addEventListener("mouseleave",(()=>{t.setAttribute("id",""),t.setAttribute("data-clipboard-text",""),o.removeEventListener("click",copyContentAction),o.setAttribute("data-text","copy")}))}))}function copyContentAction(){clipboard||(clipboard=new ClipboardJS("#copy-target"));const t=document.querySelector(".pin-copy");clipboard.on("success",(function(e){console.warn("clipboard success",e),clipboard.destroy(),clipboard=null,t&&t.setAttribute("data-text","copied")})),clipboard.on("error",(function(e){console.warn("clipboard error",e),clipboard.destroy(),clipboard=null,t&&t.setAttribute("data-text","fail to copy")}))}